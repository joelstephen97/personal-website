<script setup lang="ts">
import type { Component } from "vue";
import {
  ArrowLeft,
  ArrowLeftRight,
  ArrowRight,
  ArrowUpRight,
  AudioLines,
  BarChart3,
  Bold,
  BookOpen,
  Bookmark,
  BookmarkCheck,
  Bot,
  Briefcase,
  Calendar,
  Camera,
  Check,
  CheckCircle,
  ChevronDown,
  ChevronUp,
  Circle,
  CircleAlert,
  Clock,
  Code,
  Copy,
  Crosshair,
  Download,
  Eraser,
  FileDown,
  FileJson,
  FilePen,
  FilePlus,
  FileText,
  Fingerprint,
  Flower2,
  FolderOpen,
  GitCompareArrows,
  Github,
  GripVertical,
  Grid3x3,
  Heading,
  Image,
  ImageMinus,
  Italic,
  LayoutGrid,
  Link,
  Linkedin,
  List,
  Loader2,
  Mail,
  MapPin,
  Menu,
  MessageCircle,
  Mic,
  Minus,
  Monitor,
  Moon,
  Palette,
  Pencil,
  Pipette,
  Play,
  Quote,
  Regex,
  Route,
  RotateCcw,
  Save,
  Search,
  Send,
  Settings,
  Share2,
  Shuffle,
  ShoppingBag,
  SkipForward,
  Sparkles,
  Square,
  Strikethrough,
  Sun,
  Target,
  Timer,
  Trash2,
  Undo2,
  Upload,
  User,
  Workflow,
  X,
  Youtube,
  Zap,
} from "lucide-vue-next";
import { computed } from "vue";

const iconMap: Record<string, Component> = {
  ArrowLeft,
  ArrowLeftRight,
  ArrowRight,
  ArrowUpRight,
  AudioLines,
  BarChart3,
  Bold,
  BookOpen,
  Bookmark,
  BookmarkCheck,
  Bot,
  Briefcase,
  Calendar,
  Camera,
  Check,
  CheckCircle,
  ChevronDown,
  ChevronUp,
  Circle,
  CircleAlert,
  Clock,
  Code,
  Copy,
  Crosshair,
  Download,
  Eraser,
  FileDown,
  FileJson,
  FilePen,
  FilePlus,
  FileText,
  Fingerprint,
  Flower2,
  FolderOpen,
  GitCompareArrows,
  Github,
  GripVertical,
  Grid3x3,
  Heading,
  Image,
  ImageMinus,
  Italic,
  LayoutGrid,
  Link,
  Linkedin,
  List,
  Loader2,
  Mail,
  MapPin,
  Menu,
  MessageCircle,
  Mic,
  Minus,
  Monitor,
  Moon,
  Palette,
  Pencil,
  Pipette,
  Play,
  Quote,
  Regex,
  Route,
  RotateCcw,
  Save,
  Search,
  Send,
  Settings,
  Share2,
  Shuffle,
  ShoppingBag,
  SkipForward,
  Sparkles,
  Square,
  Strikethrough,
  Sun,
  Target,
  Timer,
  Trash2,
  Undo2,
  Upload,
  User,
  Workflow,
  X,
  Youtube,
  Zap,
};

const props = withDefaults(
  defineProps<{
    name: string;
    size?: number | string;
    strokeWidth?: number;
  }>(),
  {
    size: 20,
    strokeWidth: 2,
  },
);

const iconComponent = computed(() => {
  const name = props.name
    .replace(/^i-/, "")
    .replace(/-./g, (x) => x[1].toUpperCase())
    .replace(/^./, (x) => x.toUpperCase());

  return iconMap[name] ?? Circle;
});
</script>

<template>
  <component
    :is="iconComponent"
    :size="size"
    :stroke-width="strokeWidth"
    class="inline-block flex-shrink-0"
  />
</template>
